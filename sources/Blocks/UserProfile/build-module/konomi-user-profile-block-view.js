import{getServerState as e,store as t,withSyncEvent as r}from"@wordpress/interactivity";function n(e){if(!(e instanceof HTMLAnchorElement))throw new Error("Expected an anchor element")}var a=function(e){return e.UPDATE_CURRENT_PAGE="page-update",e.HISTORY_CHANGE="history-change",e}(a||{});function o(e){var t;const r=e.href.match(/\/page-(\d+)/);return r?parseInt(null!==(t=r[1])&&void 0!==t?t:"1",10):1}!function(){const{state:i}=t("konomiProfilePagination",{state:e(),actions:{updatePagination:r(e=>{e.preventDefault(),n(e.currentTarget),i.page=o(e.currentTarget),i.updateReason=a.UPDATE_CURRENT_PAGE}),updatePaginationByHistory:e=>{const{state:{konomi:t=null}={}}=e;if(null!==t){try{(function(e){if("number"!=typeof e)throw new Error("Expected a number")})(r=t.page),function(e){if(!Number.isInteger(e))throw new Error("Expected an integer");if(e<1)throw new Error("Expected a positive integer")}(r)}catch(e){t.page=1}i.page=t.page,i.updateReason=a.HISTORY_CHANGE}var r}},callbacks:{updateTableRows:()=>{const e=document.querySelectorAll(".konomi-user-profile-item");if(!e.length)return;const{perPage:t,page:r}=i,n=(r-1)*t,a=n+t;e.forEach((e,t)=>{const r=t>=n&&t<a;e.setAttribute("aria-hidden",r?"false":"true")})},updatePaginationLinks:()=>{const{page:e}=i;document.querySelectorAll(".konomi-user-profile-pagination a").forEach(t=>{n(t);const r=o(t);t.setAttribute("aria-disabled",r===e?"true":"false"),t.toggleAttribute("aria-current",r===e)})},updateHistory:()=>{if(i.updateReason!==a.UPDATE_CURRENT_PAGE)return;const e=new URL(window.location.href);e.searchParams.set("user-profile-page",`${i.page}`),window.history.pushState({konomi:{page:i.page}},"",e)}}})}();