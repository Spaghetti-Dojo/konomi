import*as t from"@wordpress/interactivity";var e,r,o,a,n={442:(t,e,r)=>{r.a(t,(async(t,o)=>{try{r.d(e,{B:()=>c});var a=r(508),n=t([a]);function c(t){return(0,a.apiFetch)({path:"/konomi/v1/user-reaction/",method:"POST",data:t})}a=(n.then?(await n)():n)[0],o()}catch(i){o(i)}}))},508:t=>{t.exports=import("@konomi/api-fetch")},518:(t,e,r)=>{r.a(t,(async(t,o)=>{try{r.d(e,{T:()=>i});var a=r(833),n=r(442),c=t([n]);function i(){const{actions:t}=(0,a.store)("konomiReaction",{state:{},actions:{toggleStatus:()=>{const e=(0,a.getContext)("konomiReaction");e.isActive=!e.isActive,e.count=e.isActive?e.count+1:e.count-1,t.updateUserPreferences()},*updateUserPreferences(){const e=(0,a.getContext)("konomi");if(!e.isUserLoggedIn)return e.loginRequired=!0,void t.revertStatus();try{const t=(0,a.getContext)("konomiReaction");yield(0,n.B)({meta:{_reaction:{id:e.id,type:e.type,isActive:t.isActive}}})}catch(r){const o=r;e.error={code:o.code,message:o.message},t.revertStatus()}},revertStatus:()=>{const t=(0,a.getContext)("konomiReaction");t.count=t.isActive?t.count-1:t.count+1,t.isActive=!t.isActive}}})}n=(c.then?(await c)():c)[0],o()}catch(s){o(s)}}))},833:(e,r,o)=>{var a,n;e.exports=(a={getContext:()=>t.getContext,store:()=>t.store},n={},o.d(n,a),n)},987:(t,e,r)=>{r.a(t,(async(t,e)=>{try{var o=r(518),a=t([o]);(0,(o=(a.then?(await a)():a)[0]).T)(),e()}catch(t){e(t)}}))}},c={};function i(t){var e=c[t];if(void 0!==e)return e.exports;var r=c[t]={exports:{}};return n[t](r,r.exports,i),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",o="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},i.a=(t,n,c)=>{var i;c&&((i=[]).d=-1);var s,p,u,v=new Set,d=t.exports,m=new Promise(((t,e)=>{u=e,p=t}));m[r]=d,m[e]=t=>(i&&t(i),v.forEach(t),m.catch((t=>{}))),t.exports=m,n((t=>{var n;s=(t=>t.map((t=>{if(null!==t&&"object"==typeof t){if(t[e])return t;if(t.then){var n=[];n.d=0,t.then((t=>{c[r]=t,a(n)}),(t=>{c[o]=t,a(n)}));var c={};return c[e]=t=>t(n),c}}var i={};return i[e]=t=>{},i[r]=t,i})))(t);var c=()=>s.map((t=>{if(t[o])throw t[o];return t[r]})),p=new Promise((t=>{(n=()=>t(c)).r=0;var r=t=>t!==i&&!v.has(t)&&(v.add(t),t&&!t.d&&(n.r++,t.push(n)));s.map((t=>t[e](r)))}));return n.r?p:c()}),(t=>(t?u(m[o]=t):p(d),a(i)))),i&&i.d<0&&(i.d=0)},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var s=i(987);s=await s;